# 🤖 ربات پیام‌رسان ساز

[![GitHub](https://img.shields.io/badge/GitHub-payamresan--saz-blue?logo=github)](https://github.com/mrVXBoT/payamresan-saz.git)
[![PHP](https://img.shields.io/badge/PHP-7.4%2B-777BB4?logo=php)](https://php.net)
[![License](https://img.shields.io/badge/License-GPL--3.0-green)](LICENSE)
[![Telegram](https://img.shields.io/badge/Telegram-Bot-26A5E4?logo=telegram)](https://t.me/BuildYourMessengerBot)

> 🚀 **ربات پیام‌رسان قدرتمند و کامل** برای ایجاد ربات‌های تلگرام حرفه‌ای با امکانات پیشرفته

## 📋 فهرست مطالب

- [✨ ویژگی‌های کلیدی](#-ویژگیهای-کلیدی)
- [🛠 نصب و راه‌اندازی](#-نصب-و-راهاندازی)
- [⚙️ تنظیمات](#️-تنظیمات)
- [🎯 امکانات ربات](#-امکانات-ربات)
- [📱 مدیریت ربات](#-مدیریت-ربات)
- [🔧 API و توابع](#-api-و-توابع)
- [📊 آمار و گزارش](#-آمار-و-گزارش)
- [🛡️ امنیت](#️-امنیت)
- [❓ سوالات متداول](#-سوالات-متداول)
- [🤝 مشارکت](#-مشارکت)
- [📞 پشتیبانی](#-پشتیبانی)

## ✨ ویژگی‌های کلیدی

### 🎨 **رابط کاربری پیشرفته**
- 🔘 **دکمه‌های Inline**: دکمه‌های شیشه‌ای زیبا در پیام خوشامدگویی
- 🔗 **پشتیبانی از لینک**: دکمه‌ها می‌توانند لینک یا متن باشند
- 🔙 **دکمه بازگشت**: امکان بازگشت به منوی اصلی
- 📱 **طراحی ریسپانسیو**: سازگار با تمام دستگاه‌ها

### 🛡️ **امنیت و کنترل**
- 👥 **مدیریت چند ادمین**: اضافه/حذف ادمین‌های متعدد
- 🚫 **سیستم مسدودسازی**: مسدود کردن کاربران مزاحم
- ⛔ **فیلتر کلمات**: فیلتر خودکار کلمات نامناسب
- 🔒 **قفل کانال**: اجبار عضویت در کانال‌ها
- 🌊 **ضد اسپم**: محافظت در برابر پیام‌های مکرر

### 📢 **ارتباطات**
- 📨 **پیام همگانی**: ارسال پیام به تمام کاربران
- ↗️ **هدایت همگانی**: فوروارد پیام‌ها به همه
- 🤖 **پاسخ خودکار**: پاسخ‌های از پیش تعریف شده
- 📞 **گروه پشتیبانی**: اتصال مستقیم به پشتیبانی

### 🎮 **سرگرمی و محتوا**
- 😂 **مطالب طنز**: لطیفه، خاطره، متن‌های خنده‌دار
- 📖 **احادیث**: احادیث تصادفی با ترجمه
- 🎯 **متغیرهای پویا**: F-NAME, FULL-NAME, TIME, DATE و...
- 🎲 **محتوای تصادفی**: انواع متن‌های سرگرم‌کننده

### 📊 **مدیریت و آمار**
- 📈 **آمار کامل**: آمار کاربران، پیام‌ها و فعالیت‌ها
- 💾 **پشتیبان‌گیری**: دانلود/بارگذاری پشتیبان اطلاعات
- 🗑️ **پاکسازی**: حذف امن اطلاعات
- ⚡ **عملکرد بهینه**: پردازش سریع و مؤثر

## 🛠 نصب و راه‌اندازی

### 📋 پیش‌نیازها

```bash
✅ PHP 7.4 یا بالاتر
✅ MySQL/MariaDB
✅ cURL Extension
✅ JSON Extension
✅ هاست با پشتیبانی از Webhook
```

### 🚀 نصب گام به گام

#### 1️⃣ **دانلود فایل‌ها**

```bash
git clone https://github.com/mrVXBoT/payamresan-saz.git
cd payamresan-saz
```

#### 2️⃣ **تنظیم پایگاه داده**

```sql
-- ایجاد دیتابیس
CREATE DATABASE payamresan_bot;
USE payamresan_bot;

-- جداول خودکار ایجاد می‌شوند
```

#### 3️⃣ **ویرایش تنظیمات**

```php
// config.php
<?php
$Token = "YOUR_BOT_TOKEN";
$Dev = YOUR_ADMIN_ID;
$main_bot = "@YourMainBot";
$main_channel = "@YourChannel";

// تنظیمات دیتابیس
$db_host = "localhost";
$db_name = "payamresan_bot";
$db_user = "username";
$db_pass = "password";
?>
```

#### 4️⃣ **تنظیم Webhook**

```bash
curl -X POST "https://api.telegram.org/bot{TOKEN}/setWebhook" \
     -d "url=https://yourdomain.com/bot.php"
```

#### 5️⃣ **تنظیم Cron Jobs**

```bash
# هر دقیقه
* * * * * /usr/bin/php /path/to/bots_send2all.php
* * * * * /usr/bin/php /path/to/send2all.php
* * * * * /usr/bin/php /path/to/vip.php
```

#### 6️⃣ **تنظیم امنیت (.htaccess)**

```apache
<Files *>
    Order Allow,Deny
    Deny from all
    Allow from 149.154.160.0/16 91.108.4.0/16
</Files>
```

## ⚙️ تنظیمات

### 🔧 **تنظیمات اصلی**

| پارامتر | توضیح | مثال |
|---------|--------|-------|
| `$Token` | توکن ربات از BotFather | `123456:ABC-DEF...` |
| `$Dev` | شناسه عددی ادمین اصلی | `123456789` |
| `$main_bot` | یوزرنیم ربات اصلی | `@YourBot` |
| `$main_channel` | کانال اصلی | `@YourChannel` |

### 📁 **ساختار فایل‌ها**

```
payamresan-saz/
├── 📁 Source/           # فایل‌های اصلی ربات
│   ├── bot.php         # منطق اصلی ربات
│   ├── handler.php     # توابع کمکی
│   ├── config.php      # تنظیمات
│   └── index.php       # صفحه اصلی
├── 📁 Data/            # اطلاعات کاربران
├── 📁 texts/           # متن‌های سرگرمی
├── 📁 Face/            # تشخیص چهره
├── 📁 Bots/            # ربات‌های فرعی
├── bot.php             # Webhook اصلی
├── config.php          # تنظیمات عمومی
└── README.md           # راهنما
```

## 🎯 امکانات ربات

### 👤 **برای کاربران عادی**

#### 🏠 **صفحه اصلی**
```
😁✋🏻 سلام

خوش آمدید. پیام خود را ارسال کنید.

[دکمه 1] [دکمه 2]
[دکمه 3] [دکمه 4]
```

#### 🔘 **دکمه‌های تعاملی**
- ✅ **دکمه‌های Inline شیشه‌ای**
- 🔗 **پشتیبانی از لینک مستقیم**
- 📝 **نمایش محتوای متنی**
- 🔙 **دکمه بازگشت هوشمند**

#### 🎨 **متغیرهای پویا**
```php
// متغیرهای کاربر
F-NAME      // نام کوچک
FULL-NAME   // نام کامل
L-NAME      // نام خانوادگی
U-NAME      // یوزرنیم

// متغیرهای زمان
TIME        // ساعت فعلی
DATE        // تاریخ فعلی
TODAY       // روز هفته

// محتوای سرگرم‌کننده
JOKE        // لطیفه تصادفی
KHATERE     // خاطره تصادفی
HADITH      // حدیث تصادفی
LOVE        // متن عاشقانه
```

### 👨‍💻 **برای ادمین‌ها**

#### 🎛️ **پنل مدیریت**
```
👇🏻 لطفا یکی از دکمه های زیر را انتخاب نمایید.

📕 راهنما          📊 آمار
✉️ پیام همگانی     🚀 هدایت همگانی
⌨️ دکمه ها         ✉️ پیغام ها
💻 پاسخ خودکار     ⛔️ فیلتر کلمه
👨🏻‍💻 ادمین ها      📣 قفل کانال ها
🔐 قفل ها          📝 پیام خصوصی
👤 اطلاعات کاربر    📤 بارگذاری پشتیبان
📥 دریافت پشتیبان   🎖 اشتراک ویژه
🗑 پاکسازی         🔌 خاموش/روشن ربات
```

## 📱 مدیریت ربات

### ⌨️ **مدیریت دکمه‌ها**

#### ➕ **افزودن دکمه جدید**
1. کلیک بر روی "⌨️ دکمه ها"
2. انتخاب "➕ افزودن دکمه جدید"
3. وارد کردن نام دکمه (مثال: "درباره ما")
4. وارد کردن محتوا:
   - **متن**: `درباره ما: ما یک تیم حرفه‌ای هستیم...`
   - **لینک**: `https://example.com`

#### 📋 **مدیریت دکمه‌های موجود**
- 📋 **لیست دکمه‌ها**: مشاهده تمام دکمه‌ها
- 🗑 **حذف دکمه**: حذف دکمه‌های غیرضروری
- ✏️ **ویرایش**: تغییر نام یا محتوای دکمه

### 📨 **پیام همگانی**

#### 📢 **ارسال پیام متنی**
```php
// پیام با متغیرهای پویا
سلام F-NAME عزیز!

امروز DATE است و ساعت TIME می‌باشد.

JOKE

با تشکر
```

#### 🚀 **هدایت همگانی**
- فوروارد مستقیم پیام‌ها
- حفظ فرمت اصلی
- ارسال سریع و مؤثر

### 🛡️ **کنترل امنیت**

#### 👥 **مدیریت ادمین‌ها**
```php
// افزودن ادمین
/addadmin USER_ID

// حذف ادمین
/deladmin USER_ID

// لیست ادمین‌ها
/listadmins
```

#### 🚫 **مسدودسازی کاربران**
```php
// مسدود کردن
/ban USER_ID

// آزاد کردن
/unban USER_ID

// لیست مسدودها
/banlist
```

## 🔧 API و توابع

### 📡 **توابع اصلی**

#### 📤 **ارسال پیام**
```php
sendMessage($chat_id, $text, $parse_mode, $reply_to, $keyboard);
```

#### 🖼️ **ارسال عکس**
```php
sendPhoto($chat_id, $photo, $caption, $reply_to, $keyboard);
```

#### 🎵 **ارسال صدا**
```php
sendVoice($chat_id, $voice, $caption, $reply_to);
```

#### 📎 **ارسال فایل**
```php
sendDocument($chat_id, $document, $caption, $reply_to);
```

### 🔄 **توابع کمکی**

#### 🔀 **جایگزینی متغیرها**
```php
function replace($text) {
    global $username, $first_name, $last_name;
    
    $text = str_replace('F-NAME', $first_name, $text);
    $text = str_replace('FULL-NAME', $full_name, $text);
    $text = str_replace('TIME', jdate('H:i:s'), $text);
    
    return $text;
}
```

#### 📊 **آمارگیری**
```php
function getStats() {
    // تعداد کاربران
    // تعداد پیام‌ها
    // آمار فعالیت
}
```

## 📊 آمار و گزارش

### 📈 **آمار کلی**
- 👥 **تعداد کاربران**: کل کاربران ثبت‌شده
- 📨 **پیام‌های ارسالی**: تعداد پیام‌های پردازش شده
- 🎯 **کلیک دکمه‌ها**: آمار استفاده از دکمه‌ها
- ⏰ **آمار زمانی**: فعالیت در بازه‌های مختلف

### 📋 **گزارش‌های تخصصی**
- 📅 **گزارش روزانه**: فعالیت‌های روزمره
- 📊 **آنالیز کاربران**: رفتار و الگوی استفاده
- 🔍 **گزارش خطا**: مشکلات و خطاهای سیستم

## 🛡️ امنیت

### 🔒 **محافظت از سرور**

#### 🚪 **محدودیت دسترسی**
```apache
# .htaccess
<Files *>
    Order Allow,Deny
    Deny from all
    Allow from 149.154.160.0/16 91.108.4.0/16
</Files>
```

#### 🔐 **رمزگذاری اطلاعات**
```php
// رمزگذاری توکن‌ها
$encrypted_token = encrypt($token, $secret_key);

// محافظت از اطلاعات حساس
$secure_data = hash('sha256', $sensitive_info);
```

### 🛡️ **محافظت از ربات**

#### 🌊 **ضد اسپم**
- محدودیت 33 پیام در دقیقه
- مسدودسازی خودکار
- پاکسازی خودکار فایل‌های موقت

#### ⛔ **فیلتر محتوا**
- فیلتر کلمات نامناسب
- بلاک کردن لینک‌های مشکوک
- کنترل نوع فایل‌های ارسالی

## ❓ سوالات متداول

### 🤔 **سوالات عمومی**

**Q: چگونه ربات را راه‌اندازی کنم؟**
A: مراحل نصب را در بخش [نصب و راه‌اندازی](#-نصب-و-راهاندازی) دنبال کنید.

**Q: آیا نیاز به VPS دارم؟**
A: خیر، هر هاست معمولی با پشتیبانی PHP کافی است.

**Q: چگونه دکمه جدید اضافه کنم؟**
A: از پنل ادمین > دکمه‌ها > افزودن دکمه جدید استفاده کنید.

### 🔧 **مشکلات فنی**

**Q: ربات پاسخ نمی‌دهد؟**
A: 
1. Webhook را بررسی کنید
2. تنظیمات .htaccess را چک کنید  
3. لاگ‌های خطا را بررسی کنید

**Q: دکمه‌ها کار نمی‌کنند؟**
A: مطمئن شوید که callback handlers درست تنظیم شده‌اند.

### 💾 **پشتیبان‌گیری**

**Q: چگونه از اطلاعات پشتیبان بگیرم؟**
A: از پنل ادمین > دریافت پشتیبان استفاده کنید.

**Q: چگونه پشتیبان را بازیابی کنم؟**
A: فایل JSON را از طریق پنل ادمین > بارگذاری پشتیبان آپلود کنید.

## 🤝 مشارکت

### 🌟 **نحوه مشارکت**

1. **Fork** کردن پروژه
2. ایجاد **Branch** جدید (`git checkout -b feature/AmazingFeature`)
3. **Commit** تغییرات (`git commit -m 'Add some AmazingFeature'`)
4. **Push** به Branch (`git push origin feature/AmazingFeature`)
5. ایجاد **Pull Request**

### 📋 **راهنمای توسعه**

#### 🎯 **اولویت‌های توسعه**
- [ ] 🌐 پشتیبانی از چند زبان
- [ ] 📱 اپلیکیشن موبایل مدیریت
- [ ] 🤖 هوش مصنوعی پیشرفته
- [ ] 📊 داشبورد آنالیتیک
- [ ] 🔗 API عمومی

#### 🐛 **گزارش باگ**
برای گزارش باگ از [Issues](https://github.com/mrVXBoT/payamresan-saz/issues) استفاده کنید.

#### 💡 **پیشنهاد ویژگی**
ایده‌های جدید را در [Discussions](https://github.com/mrVXBoT/payamresan-saz/discussions) مطرح کنید.

## 📞 پشتیبانی

### 🆘 **راه‌های ارتباطی**

| نوع پشتیبانی | لینک | وضعیت |
|--------------|------|-------|
| 🤖 **ربات نمونه** | [@BuildYourMessengerBot](https://t.me/BuildYourMessengerBot) | ✅ آنلاین |
| 💬 **تلگرام** | [@VXSupport](https://t.me/VXSupport) | ✅ آنلاین |
| 🐛 **گزارش باگ** | [GitHub Issues](https://github.com/mrVXBoT/payamresan-saz/issues) | ✅ فعال |


---

## 📄 مجوز

این پروژه تحت مجوز **GPL-3.0** منتشر شده است. جزئیات در فایل [LICENSE](LICENSE) موجود است.

## 🏆 تقدیر و تشکر

### 👨‍💻 **سازنده اصلی**
- [@oYSoF](https://t.me/oYSoF) - توسعه‌دهنده اصلی و نگهدارنده پروژه

### 🛠️ **ابزارها و کتابخانه‌ها**
- [Telegram Bot API](https://core.telegram.org/bots/api)
- [PHP](https://php.net)
- [MySQL](https://mysql.com)

---

<div align="center">

### 🌟 اگر این پروژه برایتان مفید بود، یک ستاره بدهید!

[![GitHub stars](https://img.shields.io/github/stars/mrVXBoT/payamresan-saz.svg?style=social&label=Star)](https://github.com/mrVXBoT/payamresan-saz)

**ساخته شده با ❤️ توسط [VX](https://github.com/mrVXBoT)**

</div>

---

<div align="center">
<sub>آخرین بروزرسانی: دی 1403 | نسخه: 2.0.0</sub>
</div>
